# Правила сдачи задач

## TL;DR

* **Одна задача — одна ветка.**
  Имя ветки и папки совпадают и имеют формат:
  `<номер_контеста><буква_задачи>` — например: `1A`, `12B`, `3c`.
* **Структура строго фиксирована:**

  ```
  <номер><буква>/
  └── main.cpp
  ```
* После пуша ветки создаёте **Pull Request в `main`**. Все проверки CI должны быть зелёными.

---

## 1) Именование и структура

* **Ветка:** `<число><буква>` (буква латинская, регистр не важен)
  Примеры: `1A`, `2b`, `12C`.
* **Папка в корне репозитория:** точно такая же, как имя ветки.
  Примеры: `1A/`, `2b/`, `12C/`.
* **Файл решения:** внутри папки **строго** `main.cpp`.
  Полный путь: `./<ветка>/main.cpp`, например `./12C/main.cpp`.

**Нельзя:**

* класть решение куда-то ещё;
* переименовывать `main.cpp`;
* добавлять лишние `.cpp` вне вашей папки задачи.

---

## 2) Процесс сдачи (шаги)

1. Обновите `main`:

   ```bash
   git checkout main
   git pull
   ```
2. Создайте ветку под задачу:

   ```bash
   git checkout -b 12C    # пример: контест 12, задача C
   ```
3. Создайте папку и файл:

   ```bash
   mkdir 12C
   $EDITOR 12C/main.cpp
   ```
4. Закоммитьте и запушьте:

   ```bash
   git add 12C/main.cpp
   git commit -m "12C: solution"
   git push -u origin 12C
   ```
5. Откройте **Pull Request** из вашей ветки в `main`.
   Дождитесь прохождения проверок и исправьте замечания, если они есть.

---

## 3) Автоматические проверки (CI)

Запускаются на пуш и в PR. Любое нарушение = **красный статус**.

1. **Проверка имени ветки и структуры:**

   * ветка формата `<число><буква>`;
   * есть папка `./<ветка>/`;
   * есть `./<ветка>/main.cpp`.

2. **Форматирование: `clang-format`**
   Стиль: Google + настройки (выравнивание указателей слева и т. п.).
   Если автоформатирование меняет файл, job **падает** и прикладывает артефакт
   `clang-format.patch`. Его можно скачать на вкладке **Actions** для данного запуска.

   Применение патча локально:

   ```bash
   git apply clang-format.patch
   git commit -am "Apply clang-format"
   git push
   ```

3. **Линт: `clang-tidy`**
   Включены правила из `.clang-tidy` (акцент на `readability-*`), **все предупреждения считаются ошибками**.
   Стандарт компиляции — **C++20**.

---

## 4) Как исправлять «красный» CI

* **Упал `clang-format`:**

  * скачайте `clang-format.patch` из артефактов Actions;
  * примените его, закоммитьте, запушьте.

* **Упал `clang-tidy`:**

  * откройте логи job/PR-комментарии (если включены инлайн-комменты);
  * исправьте код по сообщениям линтера (имена, длину функций, магические числа и т. п.);
  * закоммитьте, запушьте.

* **Упал чек структуры/имени ветки:**

  * проверьте, что ветка называется, например, `12C`;
  * что существует папка `./12C/` и файл `./12C/main.cpp`;
  * что вы не добавили лишние `.cpp` вне своей папки.

---

## Вопросы?

пишите в чат группы в ТГ